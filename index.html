
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>EPLIM AGI GOVERNANCE</title>
    
    <!-- 스타일 및 폰트 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --indigo-glow: rgba(99, 102, 241, 0.25);
        }
        html {
            scroll-behavior: smooth;
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #030303; 
            color: #ffffff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            overscroll-behavior-y: none;
            letter-spacing: -0.025em; 
            line-height: 1.4;
        }
        /* Glassmorphism */
        .glass-panel {
            background: rgba(255, 255, 255, 0.04);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }
        
        /* Typography System */
        .section-title {
            font-weight: 900;
            letter-spacing: -0.05em;
            text-transform: uppercase;
        }

        /* Mobile Optimization (Max-width 768px) */
        @media (max-width: 768px) {
            .hero-title {
                font-size: 2.75rem;
                line-height: 1.1;
                font-weight: 900;
            }
            .section-title {
                font-size: 1.85rem;
                margin-bottom: 0.25rem;
            }
            .body-text-mobile {
                color: rgba(255, 255, 255, 0.95) !important;
                font-size: 1rem;
                line-height: 1.55;
            }
            .sub-text-mobile {
                color: rgba(255, 255, 255, 0.7) !important;
                font-size: 0.85rem;
            }
            .section-padding {
                padding-top: 2rem;
                padding-bottom: 2rem;
            }
            .container-mobile {
                padding-left: 1.25rem;
                padding-right: 1.25rem;
            }
            .header-label-container {
                flex-direction: column;
                align-items: flex-start;
            }
            .fixed-policy-label {
                margin-top: 0.75rem;
                align-self: flex-start;
            }
        }

        /* Desktop Optimization (Min-width 769px) */
        @media (min-width: 769px) {
            .hero-title {
                font-size: 8rem;
                line-height: 1.05;
                font-weight: 900;
            }
            .section-title {
                font-size: 4.5rem;
            }
            .section-padding {
                padding-top: 6rem;
                padding-bottom: 6rem;
            }
            .header-label-container {
                flex-direction: row;
                align-items: flex-end;
                justify-content: space-between;
            }
            .fixed-policy-label {
                align-self: flex-end;
                margin-bottom: 1.5rem;
            }
        }

        .text-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #c7d2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .text-highlight {
            color: #818cf8; 
            text-decoration-color: rgba(129, 140, 248, 0.4);
        }

        .search-container:focus-within {
            box-shadow: 0 0 30px rgba(99, 102, 241, 0.25);
            border-color: rgba(99, 102, 241, 0.6);
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(15px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .animate-fade-in {
            animation: fadeIn 0.6s ease-out forwards;
        }

        .search-results-dropdown {
            max-height: 350px;
            overflow-y: auto;
            z-index: 1000;
        }

        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: rgba(99, 102, 241, 0.4); border-radius: 10px; }
    </style>
    
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.263.1",
    "@google/genai": "https://esm.sh/@google/genai@1.41.0",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef, useMemo } from 'react';
        import ReactDOM from 'react-dom/client';
        import { 
          Shield, Box, MessageSquare, ChevronRight, CheckCircle2, 
          Sparkles, X, Send, ChevronDown, Search, HelpCircle, 
          GraduationCap, Phone, Menu, ArrowLeft, AlertTriangle, CheckCircle, Info, Mail, User, Layers
        } from 'lucide-react';
        import { GoogleGenAI } from "@google/genai";

        window.process = window.process || { env: { API_KEY: "" } };

        const GOVERNANCE_DATA = {
          constitution: [
            { id: 'c1', title: '1. 인간 중심 원칙', description: 'AGI는 인간의 판단을 보조하는 도구이며, 최종 의사결정과 책임은 항상 인간에게 있다.' },
            { id: 'c2', title: '2. 투명성 명확성', description: 'AGI가 생성한 모든 결과물은 그 과정과 근거를 명확히 설명할 수 있어야 한다.' },
            { id: 'c3', title: '3. DB 보안', description: '고객 및 조직의 민감 정보는 AGI 시스템에 입력하지 않으며 보안 규정을 준수한다.' },
            { id: 'c4', title: '4. 공정과 편향 방지', description: 'AGI 결과물에서 차별이나 편향이 없도록 지속적으로 모니터링하고 개선한다.' },
            { id: 'c5', title: '5. 법적 준수', description: '지적재산권을 존중하며, 모든 관련 법규와 윤리 기준을 준수한다.' },
            { id: 'c6', title: '6. 규정의 불가침성', description: '본 규정은 조직 구성원 간 합의로 제정된 것으로, 특정인의 권한으로 임의 변경할 수 없다.' },
          ],
          commonRules: [
            { id: 'r1', title: '프롬프트 작성 원칙', items: ['목적 명확화', '형식 지정', '제약사항 명시', '민감정보 체크'] },
            { id: 'r2', title: '결과물 검증 프로세스', items: ['정확성 확인', '브랜드 가이드 준수', '리스크 평가', '인간 승인'] },
            { id: 'r3', title: '버전 관리 및 기록', items: ['모델 기록', '아카이빙', '이력 추적', '롤백 준비'] },
            { id: 'r4', title: '지속적 학습 및 개선', items: ['성과 리뷰', 'BP 공유', '신규 도구 평가', '팀 교육'] },
          ],
          modules: [
            { id: 'm1', name: '모듈 A - 콘텐츠', rules: ['톤앤매너 유지', '표절 검사', '출처 교차 검증', 'AGI 표기 의무'] },
            { id: 'm2', name: '모듈 B - 이커머스', rules: ['상품 스펙 일치', '과장 광고 금지', '가격 자동화 불가', '리뷰 요약 점검'] },
            { id: 'm3', name: '모듈 C - 생산성', rules: ['반복 작업 우선', '효과 측정', '회의록 확인', '일정 제안 전용'] },
            { id: 'm4', name: '모듈 D - 데이터 분석', rules: ['소스 명시', '유의성 표기', '비식별화 철저', '오차율 공개'] },
            { id: 'm5', name: '모듈 E - 자동화', rules: ['코드 리뷰 배포', 'Failsafe 설정', '감사 로그 보관', '인간 전환 필수'] },
          ],
          faqs: [
            { q: "AGI가 생성한 이미지의 저작권은 누구에게 있나요?", a: "이플림의 공식 도구로 생성된 결과물은 원칙적으로 회사의 업무 저작물로 관리되나, 활용 전 법무팀의 최종 확인이 필요합니다." },
            { q: "고객 데이터를 외부 AGI에 입력해도 되나요?", a: "절대 불가합니다. 승인되지 않은 외부 AGI 서비스에 고객의 개인정보나 회사 기밀을 입력하는 것은 보안 규정 위반입니다." },
            { q: "AGI 결과물이 틀린 정보를 제공하면 어떡하죠?", a: "규정 1조에 따라 모든 책임은 인간에게 있습니다. AGI의 답변을 반드시 교차 검증한 후 사용해야 합니다." }
          ]
        };

        const MODULE_DETAILS = {
          'm1': {
            overview: '블로그, 소셜미디어, 마케팅 자료 등 모든 콘텐츠 제작 시 AGI를 활용할 때 준수해야 할 세부 지침입니다.',
            compliance: [
              { 
                title: '브랜드 톤앤매너 유지', 
                content: 'AGI 프롬프트에 이플림의 공식 브랜드 가이드(친근하고 전문적인 톤, 존댓말 사용, 긍정적 표현)를 명시적으로 포함해야 합니다. 생성된 콘텐츠가 브랜드 아이덴티티와 일치하는지 마케팅팀의 최종 검토가 필요합니다.' 
              },
              { 
                title: '표절 검사 필수', 
                content: 'AGI가 생성한 모든 텍스트는 Copyscape, Turnitin 등 공식 승인된 표절 검사 도구를 통해 검증해야 합니다. 유사도 15% 이상 시 재작성이 필요하며, 검사 결과는 콘텐츠 관리 시스템에 기록해야 합니다.' 
              },
              { 
                title: '출처 교차 검증', 
                content: '사실 기반 콘텐츠(통계, 연구 결과, 시장 데이터 등)는 반드시 2개 이상의 신뢰할 수 있는 출처에서 교차 검증해야 합니다. 출처는 공식 기관, 학술지, 주요 언론사 등이어야 하며, 출처 링크를 콘텐츠 하단에 명시합니다.' 
              },
              { 
                title: 'AGI 생성 표기 의무', 
                content: '모든 AGI 생성 콘텐츠는 "본 콘텐츠는 AGI 도구를 활용하여 작성되었으며, 전문가의 검토를 거쳤습니다" 문구를 명시해야 합니다. 표기 위치는 콘텐츠 하단 또는 메타데이터에 포함합니다.' 
              }
            ],
            prohibitions: [
              '타사 콘텐츠의 무단 복제 및 패러프레이징',
              '검증되지 않은 통계나 사실을 포함한 콘텐츠 게시',
              'AGI 사용 사실을 숨기고 100% 인간 작성인 것처럼 속이는 행위',
              '저작권이 있는 이미지, 인용문을 무단으로 포함',
              '경쟁사 비방 또는 부정적 비교 콘텐츠',
              '민감한 사회·정치적 주제를 검토 없이 다루는 행위'
            ],
            cases: [
              {
                title: '블로그 포스트 작성',
                good: '1) AGI로 초안 작성 (브랜드 톤 프롬프트 포함) → 2) 콘텐츠 팀 검토 및 사실 확인 → 3) 표절 검사 실시 → 4) AGI 표기 추가 → 5) 최종 승인 후 게시',
                bad: 'AGI가 생성한 글을 검토 없이 즉시 블로그에 게시하고, AGI 사용 사실을 표기하지 않음'
              },
              {
                title: '소셜미디어 캠페인 문구',
                good: 'AGI로 10개 문구 생성 → 마케팅팀이 브랜드 톤에 맞는 3개 선별 → 법무팀 과장광고 검토 → 승인 후 게시',
                bad: 'AGI가 생성한 문구를 검토 없이 자동 예약 게시 설정'
              },
              {
                title: '시장 분석 리포트',
                good: 'AGI로 데이터 요약 → 최소 3개 공신력 있는 출처와 교차 검증 → 출처 링크 명시 → 전문가 검토 → AGI 활용 표기 후 배포',
                bad: 'AGI가 요약한 통계를 출처 확인 없이 리포트에 포함'
              }
            ],
            checklist: [
              '브랜드 가이드라인 프롬프트 포함 확인',
              '표절 검사 도구 실행 완료 (유사도 15% 미만)',
              '사실 기반 내용 2개 이상 출처 검증',
              'AGI 생성 표기 문구 삽입',
              '마케팅/콘텐츠 팀 최종 승인',
              '법적 리스크 검토 완료'
            ],
            relatedPolicies: [
              { id: 'c1', title: 'AGI 규정 1조 (인간 중심 원칙)' },
              { id: 'c2', title: 'AGI 규정 2조 (투명성 명확성)' },
              { id: 'c5', title: 'AGI 규정 5조 (법적 준수)' },
              { id: 'r2', title: '공통 규칙 2 (결과물 검증 프로세스)' }
            ],
            contact: {
              team: '콘텐츠 마케팅팀',
              person: '김에디터',
              email: 'content@eplim.com'
            },
            tools: {
              title: '승인된 AGI 도구',
              list: [
                { name: 'ChatGPT Enterprise', usage: '장문 콘텐츠 초안 작성', status: 'approved' },
                { name: 'Claude Pro', usage: '기술 문서, 가이드 작성', status: 'approved' },
                { name: 'Jasper AGI', usage: '마케팅 카피 생성', status: 'conditional' },
                { name: 'Copy.agi 무료 버전', usage: '사용 금지', status: 'prohibited' }
              ]
            },
            workflow: {
              title: '콘텐츠 제작 워크플로우',
              steps: [
                { step: 1, title: 'AGI 초안 생성', description: '브랜드 톤 프롬프트 포함하여 초안 작성', responsible: 'Content Writer' },
                { step: 2, title: '사실 확인', description: '데이터, 통계, 인용 등 2개 이상 출처 검증', responsible: 'Content Writer' },
                { step: 3, title: '표절 검사', description: 'Copyscape 등 승인 도구로 검증', responsible: 'Content Writer' },
                { step: 4, title: '브랜드 검토', description: '톤앤매너 일치 여부 확인', responsible: 'Marketing Manager' },
                { step: 5, title: '법무 검토', description: '저작권, 허위광고 리스크 점검', responsible: 'Legal Team' },
                { step: 6, title: 'AGI 표기 추가', description: 'AGI 활용 문구 삽입', responsible: 'Content Writer' },
                { step: 7, title: '최종 승인 및 게시', description: '모든 체크리스트 완료 후 게시', responsible: 'Content Lead' }
              ]
            }
          },
          'm2': {
            overview: "상품 판매 및 고객 경험 향상을 위한 AGI 활용 지침입니다. 정확한 정보 제공과 소비자 신뢰 보호를 최우선으로 하며, 이커머스 환경에서의 윤리적 AGI 사용을 지향합니다.",
            compliance: [
              { title: "정확한 상품 정보", content: "AGI가 생성한 설명은 실제 제품 사양과 100% 일치해야 합니다. 오해의 소지가 있는 정보는 즉시 수정되어야 합니다." },
              { title: "투명한 알고리즘", content: "추천 시스템의 작동 원리를 사용자가 이해할 수 있는 수준으로 설명하며, 개인화 수준을 고지합니다." },
              { title: "브랜드 아이덴티티 준수", content: "AGI가 생성하는 모든 마케팅 문구는 이플림의 공식 브랜드 가이드라인을 엄격히 따라야 합니다." }
            ],
            prohibitions: [
              "허위 사실 유포 및 과대 광고",
              "AGI를 이용한 가격 자동 담합 행위",
              "경쟁사 비하 표현 및 부당한 비교",
              "사용자 동의 없는 민감 데이터 수집"
            ],
            cases: [
              { 
                title: "상품 리뷰 요약", 
                good: "실제 리뷰를 바탕으로 단점과 개선 필요 사항을 포함한 균형 잡힌 요약 제공", 
                bad: "사용자 불만을 의도적으로 삭제하고 긍정적인 평가만 과장하여 요약" 
              },
              { 
                title: "마케팅 배너 문구", 
                good: "상품의 실제 성능과 혜택을 기반으로 한 창의적인 문구 제안", 
                bad: "존재하지 않는 성능이나 기능을 마치 있는 것처럼 서술하여 구매 유도" 
              }
            ],
            checklist: [
              "최종 결과물을 전문 담당자가 직접 확인했는가?",
              "AGI 생성물임을 명시하는 법적 고지 문구가 포함되었는가?",
              "사용한 데이터 소스가 신뢰할 수 있는가?",
              "소비자 권익을 침해할 수 있는 편향된 표현은 없는가?"
            ],
            relatedPolicies: [
              { id: 'c3', title: '데이터 보안 및 프라이버시' },
              { id: 'c4', title: '공정성 및 편향 방지' },
              { id: 'c5', title: '법적 준수' }
            ],
            contact: {
              team: "이커머스 운영 전략팀",
              person: "김이플 책임",
              email: "e-com_strategy@eplim.com"
            }
          }
        };

        const ModuleDetailView = ({ module, onBack, onPolicyClick }) => {
          const detail = MODULE_DETAILS[module.id] || {
            overview: `${module.name}에 대한 상세 가이드라인이 준비 중입니다.`,
            compliance: [], prohibitions: [], cases: [], checklist: [], relatedPolicies: [],
            contact: { team: "운영팀", person: "담당자", email: "support@eplim.com" }
          };

          return (
            <div className="animate-fade-in space-y-12 lg:space-y-24">
              {/* Breadcrumb */}
              <button 
                onClick={onBack}
                className="flex items-center gap-2 text-indigo-400 font-bold hover:text-indigo-300 transition-colors group px-2"
              >
                <ArrowLeft size={20} className="group-hover:-translate-x-1 transition-transform" />
                <span>모듈 가이드로 돌아가기</span>
              </button>

              {/* Header */}
              <div className="space-y-6">
                <div className="flex items-center gap-4">
                  <div className="p-4 bg-indigo-500/20 rounded-2xl border border-indigo-500/30">
                    <Box size={40} className="text-indigo-400" />
                  </div>
                  <h1 className="text-4xl lg:text-7xl font-black text-gradient uppercase tracking-tighter">{module.name}</h1>
                </div>
                <p className="body-text-mobile lg:text-2xl font-bold opacity-80 max-w-4xl leading-relaxed">{detail.overview}</p>
              </div>

              {/* Content Grid */}
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-8 lg:gap-12">
                {/* Compliance */}
                <div className="space-y-8">
                  <h2 className="text-2xl lg:text-3xl font-black flex items-center gap-3">
                    <CheckCircle className="text-indigo-400" /> 핵심 준수 사항
                  </h2>
                  <div className="space-y-4">
                    {detail.compliance.map((item, idx) => (
                      <div key={idx} className="glass-panel p-6 lg:p-8 rounded-2xl border-l-4 border-l-indigo-500">
                        <h3 className="text-lg lg:text-xl font-bold mb-2">{item.title}</h3>
                        <p className="body-text-mobile opacity-70">{item.content}</p>
                      </div>
                    ))}
                  </div>
                </div>

                {/* Prohibitions */}
                <div className="space-y-8">
                  <h2 className="text-2xl lg:text-3xl font-black flex items-center gap-3">
                    <AlertTriangle className="text-red-400" /> 금지 사항 (Strict)
                  </h2>
                  <div className="glass-panel p-6 lg:p-8 rounded-2xl border border-red-500/20 bg-red-500/5 space-y-4">
                    {detail.prohibitions.map((item, idx) => (
                      <div key={idx} className="flex items-start gap-3 body-text-mobile font-bold text-red-100">
                        <span className="w-1.5 h-1.5 rounded-full bg-red-500 mt-2 shrink-0" />
                        <span>{item}</span>
                      </div>
                    ))}
                  </div>
                </div>
              </div>

              {/* Cases */}
              <section className="space-y-8 lg:space-y-12">
                <h2 className="text-2xl lg:text-3xl font-black flex items-center gap-3">
                  <Info className="text-indigo-400" /> 실무 적용 사례 (Good & Bad)
                </h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-10">
                  {detail.cases.map((item, idx) => (
                    <div key={idx} className="glass-panel p-8 rounded-3xl space-y-6">
                      <h3 className="text-xl font-black text-indigo-300">{item.title}</h3>
                      <div className="space-y-4">
                        <div className="bg-green-500/10 border border-green-500/20 p-5 rounded-2xl">
                          <div className="text-green-400 font-black text-xs uppercase mb-2 tracking-widest flex items-center gap-2">
                            <CheckCircle size={14} /> Good Practice
                          </div>
                          <p className="body-text-mobile font-medium">{item.good}</p>
                        </div>
                        <div className="bg-red-500/10 border border-red-500/20 p-5 rounded-2xl">
                          <div className="text-red-400 font-black text-xs uppercase mb-2 tracking-widest flex items-center gap-2">
                            <X size={14} /> Bad Practice
                          </div>
                          <p className="body-text-mobile font-medium">{item.bad}</p>
                        </div>
                      </div>
                    </div>
                  ))}
                </div>
              </section>

              {/* Checklist */}
              <section className="space-y-8">
                <h2 className="text-2xl lg:text-3xl font-black flex items-center gap-3">
                  <CheckCircle2 className="text-green-400" /> 최종 배포 체크리스트
                </h2>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                  {detail.checklist.map((item, idx) => (
                    <div key={idx} className="glass-panel p-5 rounded-xl flex items-center gap-4 hover:bg-white/5 transition-colors group">
                      <div className="w-6 h-6 rounded-md border-2 border-white/20 group-hover:border-indigo-500 transition-colors flex items-center justify-center">
                        <CheckCircle2 size={14} className="text-indigo-500 opacity-0 group-hover:opacity-100" />
                      </div>
                      <span className="body-text-mobile font-semibold">{item}</span>
                    </div>
                  ))}
                </div>
              </section>

              {/* Tools Section (If exists) */}
              {detail.tools && (
                <section className="space-y-8">
                  <h2 className="text-2xl lg:text-3xl font-black flex items-center gap-3">
                    <Sparkles className="text-yellow-400" /> {detail.tools.title}
                  </h2>
                  <div className="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                    {detail.tools.list.map((tool, idx) => {
                      const borderColor = tool.status === 'approved' ? 'border-green-500/30' : 
                                        tool.status === 'conditional' ? 'border-yellow-500/30' : 'border-red-500/30';
                      const badgeColor = tool.status === 'approved' ? 'bg-green-500/10 text-green-400' : 
                                       tool.status === 'conditional' ? 'bg-yellow-500/10 text-yellow-400' : 'bg-red-500/10 text-red-400';
                      return (
                        <div key={idx} className={`glass-panel p-6 rounded-3xl border-2 ${borderColor} hover:bg-white/5 transition-all group cursor-default`}>
                          <div className="flex justify-between items-start mb-4">
                            <span className={`text-[10px] font-black uppercase px-2 py-1 rounded-md ${badgeColor}`}>
                              {tool.status}
                            </span>
                          </div>
                          <h3 className="text-lg lg:text-xl font-black mb-2 group-hover:text-white transition-colors">{tool.name}</h3>
                          <p className="text-xs lg:text-sm text-white/50 font-medium">{tool.usage}</p>
                        </div>
                      );
                    })}
                  </div>
                </section>
              )}

              {/* Workflow Section (If exists) */}
              {detail.workflow && (
                <section className="space-y-12">
                  <h2 className="text-2xl lg:text-3xl font-black flex items-center gap-3">
                    <Layers className="text-indigo-400" /> {detail.workflow.title}
                  </h2>
                  <div className="relative space-y-6 lg:space-y-8 pl-4 lg:pl-10">
                    <div className="absolute left-10 lg:left-16 top-10 bottom-10 w-px border-l border-dashed border-indigo-500/30 hidden md:block" />
                    {detail.workflow.steps.map((step, idx) => (
                      <div key={idx} className="relative flex flex-col md:flex-row items-start gap-6 lg:gap-10 glass-panel p-6 lg:p-8 rounded-3xl hover:bg-white/5 transition-all">
                        <div className="z-10 w-12 h-12 rounded-full bg-indigo-500/20 border border-indigo-500/40 flex items-center justify-center text-indigo-400 font-black text-xl shrink-0">
                          {step.step}
                        </div>
                        <div className="flex-1 space-y-2">
                          <div className="flex items-center justify-between gap-4">
                            <h3 className="text-xl lg:text-2xl font-black tracking-tight">{step.title}</h3>
                            <span className="px-3 py-1 bg-white/10 rounded-full text-[10px] lg:text-xs font-black text-white/40 uppercase tracking-widest shrink-0">
                              {step.responsible}
                            </span>
                          </div>
                          <p className="body-text-mobile text-white/60 font-medium lg:text-lg">{step.description}</p>
                        </div>
                      </div>
                    ))}
                  </div>
                </section>
              )}

              {/* Related Policies & Contact */}
              <div className="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12 pb-20">
                <div className="space-y-6">
                  <h2 className="text-2xl font-black">관련 핵심 규정</h2>
                  <div className="space-y-3">
                    {detail.relatedPolicies.map((p, idx) => (
                      <button 
                        key={idx} 
                        onClick={() => onPolicyClick(`rule-${p.id}`)}
                        className="w-full glass-panel p-5 rounded-2xl flex items-center justify-between hover:bg-white/10 transition-all text-left"
                      >
                        <span className="font-bold">{p.title}</span>
                        <ChevronRight size={18} className="text-indigo-400" />
                      </button>
                    ))}
                  </div>
                </div>
                <div className="space-y-6">
                  <h2 className="text-2xl font-black">문의처</h2>
                  <div className="glass-panel p-8 rounded-3xl border-indigo-500/20 space-y-4">
                    <div className="flex items-center gap-4">
                      <div className="p-3 bg-white/5 rounded-xl"><User className="text-indigo-400" /></div>
                      <div>
                        <p className="text-xs font-black text-white/40 uppercase tracking-widest">Team / Person</p>
                        <p className="font-bold">{detail.contact.team} | {detail.contact.person}</p>
                      </div>
                    </div>
                    <div className="flex items-center gap-4">
                      <div className="p-3 bg-white/5 rounded-xl"><Mail className="text-indigo-400" /></div>
                      <div>
                        <p className="text-xs font-black text-white/40 uppercase tracking-widest">Email</p>
                        <p className="font-bold text-indigo-300">{detail.contact.email}</p>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          );
        };

        const App = () => {
          const [currentView, setCurrentView] = useState('main'); // 'main' or 'module-detail'
          const [selectedModule, setSelectedModule] = useState(null);
          const [isAssistantOpen, setIsAssistantOpen] = useState(false);
          const [searchQuery, setSearchQuery] = useState('');
          const [chatInput, setChatInput] = useState('');
          const [chatHistory, setChatHistory] = useState([]);
          const [isTyping, setIsTyping] = useState(false);
          const [activeFaq, setActiveFaq] = useState(null);
          const [isMobileMenuOpen, setIsMobileMenuOpen] = useState(false);
          const scrollRef = useRef(null);

          useEffect(() => {
            if (scrollRef.current) scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
          }, [chatHistory, isTyping]);

          const searchResults = useMemo(() => {
            if (!searchQuery.trim()) return [];
            const q = searchQuery.toLowerCase();
            const results = [];
            GOVERNANCE_DATA.constitution.forEach(r => { if (r.title.includes(q)) results.push({ type: '규정', title: r.title, targetId: `rule-${r.id}` }); });
            GOVERNANCE_DATA.commonRules.forEach(r => { if (r.title.includes(q)) results.push({ type: '공통 규칙', title: r.title, targetId: `common-${r.id}` }); });
            GOVERNANCE_DATA.modules.forEach(m => { if (m.name.includes(q)) results.push({ type: '모듈', title: m.name, targetId: `module-${m.id}` }); });
            return results;
          }, [searchQuery]);

          const scrollToTarget = (id) => {
            if (currentView !== 'main') {
              setCurrentView('main');
              setTimeout(() => {
                const element = document.getElementById(id);
                if (element) {
                  const offset = 100;
                  const pos = element.getBoundingClientRect().top + window.pageYOffset - offset;
                  window.scrollTo({ top: pos, behavior: 'smooth' });
                }
              }, 100);
            } else {
              const element = document.getElementById(id);
              if (element) {
                const offset = 100;
                const pos = element.getBoundingClientRect().top + window.pageYOffset - offset;
                window.scrollTo({ top: pos, behavior: 'smooth' });
              }
            }
            setSearchQuery('');
            setIsMobileMenuOpen(false);
          };

          const handleModuleClick = (m) => {
            setSelectedModule(m);
            setCurrentView('module-detail');
            window.scrollTo({ top: 0, behavior: 'smooth' });
          };

          const handleBackToMain = () => {
            setCurrentView('main');
            setTimeout(() => {
              const element = document.getElementById('모듈가이드');
              if (element) {
                const offset = 100;
                const pos = element.getBoundingClientRect().top + window.pageYOffset - offset;
                window.scrollTo({ top: pos, behavior: 'smooth' });
              }
            }, 50);
          };

          const handleSendMessage = async () => {
            if (!chatInput.trim() || isTyping) return;
            const userMsg = chatInput;
            setChatInput('');
            setChatHistory(prev => [...prev, { role: 'user', content: userMsg }]);
            setIsTyping(true);
            try {
              const ai = new GoogleGenAI({ apiKey: process.env.API_KEY });
              const response = await ai.models.generateContent({
                model: 'gemini-3-flash-preview',
                contents: `Context: ${JSON.stringify(GOVERNANCE_DATA)}\nModule Detail Info: ${JSON.stringify(MODULE_DETAILS)}\nQuestion: ${userMsg}\nRespond concisely in Korean.`,
              });
              setChatHistory(prev => [...prev, { role: 'assistant', content: response.text }]);
            } catch (e) {
              setChatHistory(prev => [...prev, { role: 'assistant', content: '연결 오류가 발생했습니다.' }]);
            } finally {
              setIsTyping(false);
            }
          };

          return (
            <div className="min-h-screen bg-[#030303] text-white">
              {/* Header */}
              <header className="fixed top-0 inset-x-0 z-[100] glass-panel bg-black/80 border-b border-white/10 py-3 lg:py-5">
                <div className="container mx-auto px-4 lg:px-8 flex items-center justify-between">
                  <div className="flex items-center gap-2 cursor-pointer" onClick={() => { setCurrentView('main'); window.scrollTo({top: 0, behavior: 'smooth'}); }}>
                    <Shield className="w-5 h-5 text-indigo-500" />
                    <span className="font-black text-lg lg:text-2xl tracking-tighter uppercase whitespace-nowrap">
                      EPLIM <span className="text-indigo-400 hidden sm:inline"> AGI Framework</span>
                    </span>
                  </div>

                  <nav className="hidden lg:flex items-center gap-10">
                    {['규정', '공통 규칙', '모듈 가이드', 'FAQ'].map(item => (
                      <button key={item} onClick={() => scrollToTarget(item === '공통 규칙' ? '공통규칙' : item === '모듈 가이드' ? '모듈가이드' : item)} className="text-xs font-bold text-white/50 hover:text-white tracking-[0.2em] uppercase transition-all">{item}</button>
                    ))}
                  </nav>

                  <div className="flex items-center gap-3">
                    <button onClick={() => setIsAssistantOpen(true)} className="flex items-center gap-2 px-4 py-2 bg-indigo-600 rounded-xl shadow-lg text-[11px] lg:text-xs font-black uppercase tracking-wider">
                      <MessageSquare className="w-4 h-4" />
                      <span>AGI Help</span>
                    </button>
                    <button onClick={() => setIsMobileMenuOpen(!isMobileMenuOpen)} className="lg:hidden p-2">
                      {isMobileMenuOpen ? <X size={24} /> : <Menu size={24} />}
                    </button>
                  </div>
                </div>
              </header>

              <div className="container mx-auto px-4 lg:px-8">
                {currentView === 'main' ? (
                  <div className="animate-fade-in">
                    {/* Hero Section */}
                    <section className="pt-32 lg:pt-64 pb-16 lg:pb-32 relative overflow-hidden container-mobile">
                      <div className="absolute top-0 left-1/2 -translate-x-1/2 w-full h-[500px] bg-indigo-600/10 blur-[120px] rounded-full opacity-40" />
                      <div className="text-center relative z-10 animate-fade-in">
                        <div className="inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-indigo-500/15 border border-indigo-500/20 text-indigo-400 text-[10px] lg:text-xs font-black uppercase tracking-[0.3em] mb-8">
                          <Sparkles className="w-4 h-4" /> Policy Authority
                        </div>
                        <h1 className="hero-title text-gradient uppercase mb-6 tracking-tighter">
                          EPLIM AGI<br />GOVERNANCE
                        </h1>
                        <p className="body-text-mobile text-white/60 max-w-3xl mx-auto font-medium mb-12 lg:text-2xl lg:leading-relaxed px-2">
                          이플림의 혁신을 이끄는 <span className="text-highlight underline underline-offset-8 font-bold">AGI원칙과 실무 지침</span>
                        </p>
                        
                        {/* Search Bar */}
                        <div className="max-w-xl mx-auto relative group">
                          <div className="relative overflow-hidden rounded-2xl lg:rounded-3xl border border-white/20 bg-white/5 backdrop-blur-xl transition-all search-container">
                            <input 
                              type="text" 
                              placeholder="규정, 모듈 또는 키워드 검색..."
                              value={searchQuery}
                              onChange={(e) => setSearchQuery(e.target.value)}
                              className="w-full py-4 lg:py-6 pl-6 pr-14 bg-transparent focus:outline-none text-base lg:text-lg text-white placeholder:text-white/30"
                            />
                            <div className="absolute right-5 top-1/2 -translate-y-1/2">
                              <Search className="w-6 h-6 text-indigo-500 hover:text-indigo-400 transition-colors" />
                            </div>
                          </div>
                          
                          {searchResults.length > 0 && (
                            <div className="absolute top-full left-0 right-0 mt-3 glass-panel border border-white/20 rounded-2xl overflow-hidden z-50 shadow-2xl search-results-dropdown text-left">
                              {searchResults.map((result, idx) => (
                                <button key={idx} onClick={() => scrollToTarget(result.targetId)} className="w-full flex items-center justify-between p-4 lg:p-5 hover:bg-white/10 active:bg-indigo-500/20 transition-all border-b border-white/5 last:border-0 group">
                                  <div className="flex items-center gap-4">
                                    <span className="text-[9px] font-black px-2 py-0.5 rounded bg-indigo-500/20 text-indigo-300 uppercase shrink-0 tracking-widest">{result.type}</span>
                                    <span className="font-bold text-white/90 truncate text-sm lg:text-base group-hover:text-white">{result.title}</span>
                                  </div>
                                  <ChevronRight size={16} className="text-indigo-500 opacity-50 group-hover:opacity-100 transition-opacity" />
                                </button>
                              ))}
                            </div>
                          )}
                        </div>
                      </div>
                    </section>

                    <main className="space-y-16 lg:space-y-48 pb-32">
                      {/* 1. AGI Regulation */}
                      <section id="규정" className="scroll-mt-32 section-padding">
                        <div className="flex header-label-container border-b border-white/10 pb-6 lg:pb-12 mb-10 lg:mb-16">
                          <div className="space-y-2 lg:space-y-4">
                            <h2 className="section-title text-gradient">AGI 규정</h2>
                            <p className="body-text-mobile lg:text-2xl font-bold opacity-80">이플림의 모든 AGI 활용의 근간이 되는 최상위 원칙</p>
                          </div>
                          <span className="fixed-policy-label inline-block w-fit px-3 py-1 bg-indigo-500/20 text-indigo-300 text-[10px] lg:text-xs font-black uppercase tracking-[0.3em] border border-indigo-500/30 rounded-full">FIXED POLICY</span>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 lg:gap-10">
                          {GOVERNANCE_DATA.constitution.map(r => (
                            <div key={r.id} id={`rule-${r.id}`} className="glass-panel p-8 lg:p-12 rounded-[2rem] relative group">
                              <CheckCircle2 className="w-8 h-8 text-indigo-500 mb-6 lg:mb-10" />
                              <h3 className="text-xl lg:text-3xl font-black mb-4 group-hover:text-indigo-300 transition-colors">{r.title}</h3>
                              <p className="body-text-mobile lg:text-lg opacity-70 leading-relaxed">{r.description}</p>
                            </div>
                          ))}
                        </div>
                      </section>

                      {/* 2. Common Rules */}
                      <section id="공통규칙" className="scroll-mt-32 section-padding">
                        <div className="flex header-label-container border-b border-white/10 pb-6 lg:pb-12 mb-10 lg:mb-16">
                          <div className="space-y-2 lg:space-y-4">
                            <h2 className="section-title text-gradient">공통 운영 규칙</h2>
                            <p className="body-text-mobile lg:text-2xl font-bold opacity-80">실무 프로세스 전반에 적용되는 실행 지침</p>
                          </div>
                          <span className="fixed-policy-label inline-block w-fit px-3 py-1 bg-indigo-500/10 text-white/40 text-[10px] lg:text-xs font-black uppercase tracking-[0.3em] border border-white/10 rounded-full">OPERATIONAL</span>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 gap-5 lg:gap-12">
                          {GOVERNANCE_DATA.commonRules.map(r => (
                            <div key={r.id} id={`common-${r.id}`} className="glass-panel p-8 lg:p-12 rounded-[2.5rem]">
                              <h3 className="text-xl lg:text-3xl font-black mb-8 lg:mb-12 flex items-center gap-4 lg:gap-6">
                                <span className="w-10 h-10 lg:w-16 lg:h-16 bg-white/10 rounded-2xl flex items-center justify-center text-indigo-400 font-black text-lg lg:text-3xl border border-white/20">{r.id.replace('r','')}</span>
                                {r.title}
                              </h3>
                              <div className="grid grid-cols-1 gap-4 lg:gap-6">
                                {r.items.map((item, idx) => (
                                  <div key={idx} className="flex items-center gap-4 body-text-mobile font-bold lg:text-xl">
                                    <div className="w-2 h-2 rounded-full bg-indigo-500 shrink-0" />
                                    <span>{item}</span>
                                  </div>
                                ))}
                              </div>
                            </div>
                          ))}
                        </div>
                      </section>

                      {/* 3. Modular Guidelines */}
                      <section id="모듈가이드" className="scroll-mt-32 section-padding">
                        <div className="flex header-label-container border-b border-white/10 pb-6 lg:pb-12 mb-10 lg:mb-16">
                          <div className="space-y-2 lg:space-y-4">
                            <h2 className="section-title text-gradient">모듈별 가이드라인</h2>
                            <p className="body-text-mobile lg:text-2xl font-bold opacity-80">각 비즈니스 영역별 특화 수칙</p>
                          </div>
                          <span className="fixed-policy-label inline-block w-fit px-3 py-1 bg-indigo-500/10 text-white/40 text-[10px] lg:text-xs font-black uppercase tracking-[0.3em] border border-white/10 rounded-full">SPECIFIC</span>
                        </div>
                        <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 lg:gap-10">
                          {GOVERNANCE_DATA.modules.map(m => (
                            <div 
                              key={m.id} 
                              id={`module-${m.id}`} 
                              onClick={() => handleModuleClick(m)}
                              className="glass-panel p-8 lg:p-12 rounded-[2rem] cursor-pointer hover:border-indigo-500/50 group transition-all"
                            >
                              <div className="flex items-center justify-between mb-8 lg:mb-10">
                                <div className="p-3 bg-indigo-500/20 rounded-xl group-hover:bg-indigo-500 group-hover:text-white transition-colors">
                                  <Box size={24} className="text-indigo-400 group-hover:text-white lg:w-8 lg:h-8" />
                                </div>
                                <span className="text-[10px] lg:text-xs font-black text-white/30 tracking-widest">{m.id}</span>
                              </div>
                              <h3 className="text-xl lg:text-3xl font-black mb-6 lg:mb-8 group-hover:text-indigo-400 transition-colors">{m.name}</h3>
                              <div className="space-y-3 lg:space-y-5 mb-8">
                                {m.rules.map((rule, idx) => (
                                  <div key={idx} className="body-text-mobile flex items-start gap-3 group">
                                    <span className="mt-2.5 lg:mt-3 w-1.5 h-1.5 rounded-full bg-indigo-500 shrink-0 opacity-50" />
                                    <span className="font-semibold lg:text-xl">{rule}</span>
                                  </div>
                                ))}
                              </div>
                              <div className="flex items-center gap-2 text-indigo-400 font-bold text-sm lg:text-lg opacity-0 group-hover:opacity-100 transition-all transform translate-y-2 group-hover:translate-y-0">
                                상세 가이드 보기 <ChevronRight size={18} />
                              </div>
                            </div>
                          ))}
                        </div>
                      </section>

                      {/* FAQ */}
                      <section id="FAQ" className="max-w-4xl mx-auto scroll-mt-32 section-padding px-1">
                        <div className="text-center mb-12 lg:mb-20">
                          <HelpCircle className="w-12 h-12 lg:w-16 lg:h-16 text-indigo-500 mx-auto mb-6" />
                          <h2 className="text-3xl lg:text-5xl font-black mb-4 tracking-tighter">자주 묻는 질문</h2>
                          <p className="sub-text-mobile lg:text-xl opacity-60">AGI 활용 시 궁금해하는 핵심 Q&A</p>
                        </div>
                        <div className="space-y-4">
                          {GOVERNANCE_DATA.faqs.map((faq, idx) => (
                            <div key={idx} className="glass-panel rounded-2xl overflow-hidden border border-white/10">
                              <button onClick={() => setActiveFaq(activeFaq === idx ? null : idx)} className="w-full px-6 py-5 lg:px-10 lg:py-8 text-left flex items-center justify-between active:bg-white/5 transition-all">
                                <span className="text-base lg:text-2xl font-bold pr-4">{faq.q}</span>
                                <ChevronDown size={24} className={`transition-transform ${activeFaq === idx ? 'rotate-180' : ''} text-indigo-400 shrink-0`} />
                              </button>
                              {activeFaq === idx && (
                                <div className="px-6 pb-6 lg:px-10 lg:pb-10 body-text-mobile lg:text-xl animate-fade-in border-t border-white/10 pt-5 lg:pt-8 bg-white/[0.02]">
                                  {faq.a}
                                </div>
                              )}
                            </div>
                          ))}
                        </div>
                      </section>

                      {/* CTA */}
                      <div className="grid grid-cols-1 md:grid-cols-2 gap-6 lg:gap-10 pt-10">
                        <div className="glass-panel p-10 lg:p-16 rounded-[2.5rem] border-indigo-500/20 group">
                          <GraduationCap size={40} className="text-indigo-400 mb-6 lg:w-16 lg:h-16" />
                          <h3 className="text-2xl lg:text-4xl font-black mb-4">AGI 리터러시 교육</h3>
                          <p className="sub-text-mobile lg:text-xl mb-10 opacity-70">임직원 AGI 역량 강화를 위한 정기 워크숍 및 아카이브</p>
                          <button className="w-full py-4 lg:py-6 bg-white/10 rounded-2xl font-black flex items-center justify-center gap-3 text-sm lg:text-lg hover:bg-white/20 transition-all">
                            교육 플랫폼 이동 <ChevronRight size={18} />
                          </button>
                        </div>
                        <div id="문의" className="glass-panel p-10 lg:p-16 rounded-[2.5rem] border-white/10 group">
                          <Phone size={40} className="text-indigo-400 mb-6 lg:w-16 lg:h-16" />
                          <h3 className="text-2xl lg:text-4xl font-black mb-4">거버넌스 문의</h3>
                          <p className="sub-text-mobile lg:text-xl mb-10 opacity-70">#agi-gov 슬랙 채널 및 정책 전담팀 실시간 상담</p>
                          <button className="w-full py-4 lg:py-6 bg-indigo-600 rounded-2xl font-black flex items-center justify-center gap-3 text-sm lg:text-lg shadow-2xl shadow-indigo-500/30 hover:bg-indigo-500 transition-all">
                            상담하기 <ChevronRight size={18} />
                          </button>
                        </div>
                      </div>
                    </main>
                  </div>
                ) : (
                  <div className="pt-32 lg:pt-48 pb-32">
                    <ModuleDetailView 
                      module={selectedModule} 
                      onBack={handleBackToMain} 
                      onPolicyClick={scrollToTarget}
                    />
                  </div>
                )}
              </div>

              {/* Footer */}
              <footer className="pt-24 pb-12 border-t border-white/10 bg-black/60 text-center">
                <div className="flex flex-col items-center gap-8">
                  <div className="flex items-center gap-3 opacity-60 cursor-pointer" onClick={() => { setCurrentView('main'); window.scrollTo({top: 0, behavior: 'smooth'}); }}>
                    <Shield size={24} className="text-indigo-500" />
                    <span className="font-black text-xl lg:text-3xl tracking-tighter uppercase text-white/80">EPLIM <span className="text-indigo-400">AGI GOVERNANCE</span></span>
                  </div>
                  <p className="text-[10px] lg:text-xs font-bold opacity-30 tracking-[0.4em] leading-relaxed uppercase">
                    © 2025 EPLIM AGI Governance Board.<br />Confidential - For Internal Use Only
                  </p>
                </div>
              </footer>

              {/* AGI Assistant */}
              {isAssistantOpen && (
                <div className="fixed inset-0 z-[200] flex items-end md:items-center justify-center p-0 md:p-6 animate-in fade-in duration-300">
                  <div className="absolute inset-0 bg-black/98 backdrop-blur-3xl" onClick={() => setIsAssistantOpen(false)} />
                  <div className="w-full max-w-2xl bg-[#080808] border-t md:border border-white/20 md:rounded-3xl shadow-2xl flex flex-col h-[90vh] md:h-[80vh] relative z-10 overflow-hidden">
                    <div className="px-6 py-5 border-b border-white/10 flex items-center justify-between bg-white/[0.05]">
                      <div className="flex items-center gap-4">
                        <div className="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg">
                          <Sparkles size={20} className="text-white" />
                        </div>
                        <h3 className="font-black text-lg lg:text-2xl text-white">AGI 정책 도우미</h3>
                      </div>
                      <button onClick={() => setIsAssistantOpen(false)} className="p-2"><X size={28} className="text-white/40 hover:text-white" /></button>
                    </div>
                    <div ref={scrollRef} className="flex-1 overflow-y-auto p-6 space-y-6">
                      {chatHistory.length === 0 && (
                        <div className="h-full flex flex-col items-center justify-center text-center opacity-30 space-y-4 py-12">
                          <MessageSquare size={50} />
                          <p className="text-lg lg:text-xl font-black">궁금한 정책을 질문하세요.</p>
                        </div>
                      )}
                      {chatHistory.map((msg, i) => (
                        <div key={i} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                          <div className={`max-w-[85%] px-5 py-3 rounded-2xl text-[16px] lg:text-[18px] font-bold leading-relaxed ${
                            msg.role === 'user' ? 'bg-indigo-600 text-white rounded-tr-none' : 'bg-white/15 text-white rounded-tl-none border border-white/10'
                          }`}>{msg.content}</div>
                        </div>
                      ))}
                      {isTyping && <div className="px-4 py-2 bg-indigo-500/10 w-fit rounded-lg animate-pulse text-[11px] font-black text-indigo-400 tracking-widest uppercase">Thinking...</div>}
                    </div>
                    <div className="p-5 border-t border-white/10 bg-[#080808] flex gap-3">
                      <input type="text" value={chatInput} onChange={e => setChatInput(e.target.value)} onKeyDown={e => e.key === 'Enter' && handleSendMessage()} placeholder="질문 입력..." className="flex-1 bg-white/10 border border-white/20 rounded-xl px-5 py-4 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 text-base" />
                      <button onClick={handleSendMessage} className="bg-indigo-600 px-6 rounded-xl hover:bg-indigo-500 transition-all shadow-lg active:scale-95"><Send size={20} className="text-white" /></button>
                    </div>
                  </div>
                </div>
              )}
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
