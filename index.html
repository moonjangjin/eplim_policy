
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>EPLIM AI Governance Portal</title>
    
    <!-- SEO 및 소셜 공유용 메타 태그 -->
    <meta name="description" content="EPLIM의 AI 운영 헌법 및 모듈별 세부 규칙 관리 포털">
    <meta property="og:title" content="EPLIM AI Governance Portal">
    <meta property="og:description" content="AI 원칙과 실무 지침을 한눈에 확인하세요.">
    
    <!-- 스타일 및 폰트 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --indigo-glow: rgba(99, 102, 241, 0.25);
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #030303; /* 대비를 위해 더 어두운 배경 선택 */
            color: #ffffff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            overscroll-behavior-y: none;
            letter-spacing: -0.025em; /* 가독성을 위한 자간 좁힘 */
            line-height: 1.6;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(24px);
            -webkit-backdrop-filter: blur(24px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: all 0.3s ease;
        }
        .text-gradient {
            background: linear-gradient(135deg, #ffffff 0%, #c7d2fe 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* 가독성을 위한 텍스트 섀도우 */
        .readable-text {
            text-shadow: 0 1px 3px rgba(0,0,0,0.4);
        }
        /* 스크롤바 숨기기 */
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        
        .safe-pb {
            padding-bottom: calc(1.5rem + env(safe-area-inset-bottom));
        }
        
        /* 모바일 꽉 찬 카드 효과 */
        @media (max-width: 640px) {
            .mobile-full {
                width: 100%;
                border-radius: 1.5rem;
            }
        }
    </style>
    
    <!-- Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Import Map -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.263.1",
    "@google/genai": "https://esm.sh/@google/genai@1.41.0",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useEffect, useRef } from 'react';
        import ReactDOM from 'react-dom/client';
        import { 
          Shield, Settings, Box, Download, MessageSquare, 
          ChevronRight, CheckCircle2, ArrowDown, Sparkles, 
          X, Send, Loader2, ChevronDown 
        } from 'lucide-react';
        import { GoogleGenAI } from "@google/genai";

        window.process = window.process || { env: { API_KEY: "" } };

        const GOVERNANCE_DATA = {
          constitution: [
            { id: 'c1', title: '1. 인간 중심 원칙', description: 'AI는 인간의 판단을 보조하는 도구이며, 최종 의사결정과 책임은 인간에게 있습니다.' },
            { id: 'c2', title: '2. 투명성 및 설명가능성', description: 'AI의 생성 과정과 근거를 논리적으로 설명할 수 있어야 하며, 사용 여부를 명시합니다.' },
            { id: 'c3', title: '3. 데이터 보안 준수', description: '민감 정보는 AI 시스템에 절대 입력하지 않으며, 보안 법규를 엄격히 준수합니다.' },
            { id: 'c4', title: '4. 공정성 유지', description: '결과물에서 차별이나 편향이 발생하지 않도록 상시 모니터링하고 즉각 개선합니다.' },
            { id: 'c5', title: '5. 법적 책임 이행', description: '지적재산권을 존중하며 저작권, 초상권 등 모든 법규와 윤리 기준을 준수합니다.' },
          ],
          modules: [
            { id: 'm1', name: '콘텐츠 모듈', rules: ['브랜드 톤앤매너 엄격 준수', 'AI 생성 표기 의무화', '표절 검사 단계 필수 진행'] },
            { id: 'm2', name: '이커머스 모듈', rules: ['제품 정보 100% 일치 확인', '허위/과장 광고 생성 금지', '리뷰 왜곡 행위 원천 차단'] },
            { id: 'm3', name: '생산성 모듈', rules: ['단순 반복 작업 우선 자동화', '비용 대비 효율성 상시 측정', '핵심 프로세스 최종 검수'] },
            { id: 'm4', name: '데이터 분석 모듈', rules: ['데이터 출처 명확히 표기', '개인정보 비식별 조치 필수', '분석 오차 범위 투명 공개'] },
            { id: 'm5', name: '자동화 모듈', rules: ['배포 전 코드 리뷰 완료', '시스템 오류 대응 알림 설정', '로그 데이터 1년 이상 보관'] },
          ]
        };

        const askRuleAssistant = async (question, context) => {
          const ai = new GoogleGenAI({ apiKey: process.env.API_KEY || '' });
          const response = await ai.models.generateContent({
            model: 'gemini-3-flash-preview',
            contents: `You are an AI Governance Expert for EPLIM. Context: ${context}\n\nQuestion: ${question}\n\nRespond in Korean clearly.`,
          });
          return response.text;
        };

        const App = () => {
          const [isAssistantOpen, setIsAssistantOpen] = useState(false);
          const [chatInput, setChatInput] = useState('');
          const [chatHistory, setChatHistory] = useState([]);
          const [isTyping, setIsTyping] = useState(false);
          const scrollRef = useRef(null);

          useEffect(() => {
            if (scrollRef.current) {
              scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
            }
          }, [chatHistory, isTyping]);

          const handleExport = () => {
            let output = '# EPLIM AI Governance Policy\n\n';
            GOVERNANCE_DATA.constitution.forEach(r => output += `## ${r.title}\n${r.description}\n\n`);
            const blob = new Blob([output], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url; a.download = 'EPLIM_Rules.md'; a.click();
            URL.revokeObjectURL(url);
          };

          const handleSendMessage = async () => {
            if (!chatInput.trim() || isTyping) return;
            const userMsg = chatInput;
            setChatInput('');
            setChatHistory(prev => [...prev, { role: 'user', content: userMsg }]);
            setIsTyping(true);
            try {
              const res = await askRuleAssistant(userMsg, JSON.stringify(GOVERNANCE_DATA));
              setChatHistory(prev => [...prev, { role: 'assistant', content: res }]);
            } catch (error) {
              setChatHistory(prev => [...prev, { role: 'assistant', content: '연결 오류가 발생했습니다.' }]);
            } finally {
              setIsTyping(false);
            }
          };

          return (
            <div className="min-h-screen bg-[#030303] text-white">
              {/* Animated BG */}
              <div className="fixed inset-0 overflow-hidden pointer-events-none opacity-25">
                <div className="absolute top-[-20%] left-[-10%] w-[120%] h-[120%] bg-indigo-900/15 blur-[120px] rounded-full animate-pulse" />
              </div>

              <div className="container mx-auto px-4 sm:px-8 py-10 md:py-24 relative z-10 max-w-6xl">
                {/* Header */}
                <header className="flex flex-col gap-6 md:gap-10 mb-16 md:mb-32">
                  <div className="space-y-5">
                    <div className="inline-flex items-center gap-2 px-3.5 py-1.5 rounded-full bg-indigo-500/20 border border-indigo-400/40 text-indigo-300 text-[10px] md:text-xs font-black tracking-widest uppercase">
                      <Sparkles className="w-3.5 h-3.5" /> Official Governance
                    </div>
                    <h1 className="text-[2.75rem] md:text-8xl font-black tracking-tighter text-gradient leading-[1.05] md:leading-[1.1]">
                      EPLIM <span className="text-white/20">AI</span><br />Governance
                    </h1>
                    <p className="text-white/85 text-lg md:text-2xl max-w-2xl font-medium leading-relaxed readable-text">
                      에플림의 혁신을 이끄는 <span className="text-indigo-400 font-bold">AI 원칙과 실무 지침</span>을 한눈에 확인하세요.
                    </p>
                  </div>
                  <div className="grid grid-cols-1 sm:grid-cols-2 md:flex gap-3 md:gap-4 mt-4">
                    <button onClick={handleExport} className="px-6 py-4.5 bg-white/5 border border-white/20 rounded-2xl font-bold flex items-center justify-center gap-2.5 transition-all text-base active:scale-95 shadow-xl">
                      <Download className="w-5 h-5" /> 정책 다운로드
                    </button>
                    <button onClick={() => setIsAssistantOpen(true)} className="px-6 py-4.5 bg-indigo-600 rounded-2xl font-black flex items-center justify-center gap-2.5 shadow-2xl shadow-indigo-500/40 transition-all text-base active:scale-95">
                      <MessageSquare className="w-5 h-5" /> AI 어시스턴트
                    </button>
                  </div>
                </header>

                {/* Flow - Mobile Optimized */}
                <div className="flex flex-col md:grid md:grid-cols-5 gap-3 md:gap-4 items-center mb-24 md:mb-40">
                  <div className="w-full glass-panel p-6 md:p-10 rounded-[1.75rem] text-center border-indigo-500/40">
                    <Shield className="w-7 h-7 text-indigo-400 mx-auto mb-3" />
                    <h3 className="font-black text-base md:text-xl">AI 헌법</h3>
                  </div>
                  <div className="flex justify-center opacity-40 py-1">
                    <ChevronDown className="w-6 h-6 md:hidden animate-bounce text-indigo-400" />
                    <ChevronRight className="w-6 h-6 hidden md:block text-indigo-400" />
                  </div>
                  <div className="w-full glass-panel p-6 md:p-10 rounded-[1.75rem] text-center">
                    <Settings className="w-7 h-7 text-white/50 mx-auto mb-3" />
                    <h3 className="font-black text-base md:text-xl">운영 규칙</h3>
                  </div>
                  <div className="flex justify-center opacity-40 py-1">
                    <ChevronDown className="w-6 h-6 md:hidden animate-bounce text-indigo-400" />
                    <ChevronRight className="w-6 h-6 hidden md:block text-indigo-400" />
                  </div>
                  <div className="w-full glass-panel p-6 md:p-10 rounded-[1.75rem] text-center">
                    <Box className="w-7 h-7 text-white/50 mx-auto mb-3" />
                    <h3 className="font-black text-base md:text-xl text-white">모듈 가이드</h3>
                  </div>
                </div>

                {/* Sections */}
                <div className="space-y-24 md:space-y-52">
                  <section>
                    <div className="flex items-center justify-between mb-10 md:mb-16 border-b border-white/10 pb-6">
                      <h2 className="text-3xl md:text-5xl font-black tracking-tight text-white">AI 헌법</h2>
                      <span className="hidden sm:block text-[10px] font-black text-indigo-400 border border-indigo-400/40 px-3.5 py-1.5 rounded-full uppercase">Policy</span>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-8">
                      {GOVERNANCE_DATA.constitution.map(rule => (
                        <div key={rule.id} className="glass-panel p-8 md:p-12 rounded-[2rem] flex flex-col gap-5 group">
                          <CheckCircle2 className="w-6 h-6 text-indigo-500" />
                          <h3 className="text-xl md:text-2xl font-black">{rule.title}</h3>
                          <p className="text-white/90 text-[1rem] md:text-lg leading-relaxed font-medium readable-text">{rule.description}</p>
                        </div>
                      ))}
                    </div>
                  </section>

                  <section>
                    <div className="flex items-center justify-between mb-10 md:mb-16 border-b border-white/10 pb-6">
                      <h2 className="text-3xl md:text-5xl font-black tracking-tight text-white">모듈별 수칙</h2>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5 md:gap-8">
                      {GOVERNANCE_DATA.modules.map(module => (
                        <div key={module.id} className="glass-panel p-8 md:p-12 rounded-[2rem]">
                          <div className="flex items-center gap-4 mb-8">
                            <Box className="w-6 h-6 text-indigo-400" />
                            <h3 className="text-xl md:text-2xl font-black">{module.name}</h3>
                          </div>
                          <ul className="space-y-4">
                            {module.rules.map((r, idx) => (
                              <li key={idx} className="flex items-start gap-4 text-base text-white/90 leading-snug font-medium readable-text">
                                <div className="mt-2 w-1.5 h-1.5 rounded-full bg-indigo-500 shrink-0 shadow-[0_0_8px_rgba(99,102,241,0.6)]" /> 
                                {r}
                              </li>
                            ))}
                          </ul>
                        </div>
                      ))}
                    </div>
                  </section>
                </div>

                <footer className="mt-40 md:mt-64 pt-12 border-t border-white/10 flex flex-col md:flex-row justify-between items-center gap-8 pb-16 safe-pb">
                  <div className="flex items-center gap-3">
                    <Shield className="w-6 h-6 text-indigo-400" />
                    <span className="font-black tracking-tighter text-2xl">EPLIM <span className="text-indigo-400">Policy</span></span>
                  </div>
                  <p className="text-white/40 text-sm font-medium text-center md:text-right">
                    © 2025 EPLIM AI Governance Board. All Rights Reserved.
                  </p>
                </footer>
              </div>

              {/* Mobile Full-Screen Assistant */}
              {isAssistantOpen && (
                <div className="fixed inset-0 z-[100] flex items-end md:items-center justify-center p-0 md:p-6 animate-in fade-in duration-300">
                  <div className="absolute inset-0 bg-black/95 backdrop-blur-3xl" onClick={() => setIsAssistantOpen(false)} />
                  <div className="w-full max-w-4xl bg-[#080808] border-t md:border border-white/15 rounded-t-[2.5rem] md:rounded-[3rem] shadow-2xl flex flex-col h-[96vh] md:h-[90vh] relative z-10 overflow-hidden animate-in slide-in-from-bottom-20 duration-500">
                    <div className="px-6 py-5 md:px-10 md:py-8 border-b border-white/10 flex items-center justify-between bg-white/[0.03]">
                      <div className="flex items-center gap-4">
                        <div className="w-10 h-10 md:w-12 md:h-12 bg-indigo-600 rounded-xl md:rounded-2xl flex items-center justify-center">
                          <Sparkles className="w-5 h-5 md:w-6 md:h-6 text-white" />
                        </div>
                        <h3 className="font-black text-lg md:text-2xl text-white">EPLIM Assistant</h3>
                      </div>
                      <button onClick={() => setIsAssistantOpen(false)} className="p-2.5 hover:bg-white/10 rounded-2xl transition-all">
                        <X className="w-7 h-7 text-white/70" />
                      </button>
                    </div>
                    
                    <div ref={scrollRef} className="flex-1 overflow-y-auto p-6 md:p-12 space-y-8 scroll-smooth">
                      {chatHistory.length === 0 && (
                        <div className="h-full flex flex-col items-center justify-center text-center opacity-30 space-y-6">
                          <MessageSquare className="w-16 h-16 text-white" />
                          <p className="text-xl font-bold">에플림 정책에 대해 무엇이든 물어보세요.</p>
                        </div>
                      )}
                      {chatHistory.map((msg, i) => (
                        <div key={i} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                          <div className={`max-w-[90%] px-5 py-4 rounded-[1.5rem] text-base md:text-xl font-medium leading-relaxed readable-text ${
                            msg.role === 'user' 
                              ? 'bg-indigo-600 text-white rounded-tr-none' 
                              : 'bg-white/10 border border-white/20 text-white rounded-tl-none'
                          }`}>
                            {msg.content}
                          </div>
                        </div>
                      ))}
                      {isTyping && <div className="flex justify-start"><Loader2 className="w-5 h-5 animate-spin text-indigo-400" /></div>}
                    </div>

                    <div className="p-6 md:p-10 bg-[#080808] border-t border-white/10 flex gap-3 safe-pb">
                      <input 
                        type="text" value={chatInput} onChange={e => setChatInput(e.target.value)}
                        onKeyDown={e => e.key === 'Enter' && handleSendMessage()}
                        placeholder="메시지를 입력하세요..."
                        className="flex-1 bg-white/5 border border-white/20 rounded-2xl px-6 py-4.5 md:py-6 focus:outline-none focus:ring-2 focus:ring-indigo-500/50 text-[16px] md:text-xl text-white placeholder:text-white/20 transition-all"
                      />
                      <button onClick={handleSendMessage} className="bg-indigo-600 px-6 md:px-10 rounded-2xl active:scale-95 transition-all hover:bg-indigo-500 shadow-xl shadow-indigo-500/20">
                        <Send className="w-6 h-6 text-white" />
                      </button>
                    </div>
                  </div>
                </div>
              )}
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
