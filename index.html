
<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>EPLIM AI Governance Portal</title>
    
    <!-- SEO 및 소셜 공유용 메타 태그 -->
    <meta name="description" content="EPLIM의 AI 운영 헌법 및 모듈별 세부 규칙 관리 포털">
    <meta property="og:title" content="EPLIM AI Governance Portal">
    <meta property="og:description" content="AI 원칙과 실무 지침을 한눈에 확인하세요.">
    <meta property="og:type" content="website">
    
    <!-- 스타일 및 폰트 로드 -->
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Noto+Sans+KR:wght@300;400;500;700;900&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --indigo-glow: rgba(99, 102, 241, 0.15);
        }
        body {
            font-family: 'Inter', 'Noto Sans KR', sans-serif;
            background-color: #0a0a0a;
            color: #ffffff;
            overflow-x: hidden;
            -webkit-font-smoothing: antialiased;
            /* iOS 바운스 효과 방지 및 터치 최적화 */
            overscroll-behavior-y: none;
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.02);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @media (hover: hover) {
            .glass-panel:hover {
                background: rgba(255, 255, 255, 0.04);
                border-color: rgba(99, 102, 241, 0.3);
                box-shadow: 0 8px 32px -8px var(--indigo-glow);
            }
        }
        .text-gradient {
            background: linear-gradient(135deg, #fff 0%, #a5b4fc 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* 스크롤바 숨기기 (모바일 깔끔한 디자인) */
        ::-webkit-scrollbar { width: 0px; background: transparent; }
        
        .safe-bottom {
            padding-bottom: env(safe-area-inset-bottom);
        }
    </style>
    
    <!-- Babel Standalone -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Import Map -->
    <script type="importmap">
{
  "imports": {
    "react": "https://esm.sh/react@18.2.0",
    "react-dom": "https://esm.sh/react-dom@18.2.0",
    "react-dom/client": "https://esm.sh/react-dom@18.2.0/client",
    "lucide-react": "https://esm.sh/lucide-react@0.263.1",
    "@google/genai": "https://esm.sh/@google/genai@1.41.0",
    "react/": "https://esm.sh/react@^19.2.4/"
  }
}
</script>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel" data-type="module">
        import React, { useState, useMemo, useEffect, useRef } from 'react';
        import ReactDOM from 'react-dom/client';
        import { 
          Shield, Settings, Box, Download, MessageSquare, 
          ChevronRight, CheckCircle2, ArrowDown, Sparkles, 
          X, Send, Loader2, ExternalLink, ChevronDown 
        } from 'lucide-react';
        import { GoogleGenAI } from "@google/genai";

        window.process = window.process || { env: { API_KEY: "" } };

        const GOVERNANCE_DATA = {
          constitution: [
            { id: 'c1', title: '1. 인간 중심 원칙', description: 'AI는 인간의 판단을 보조하는 도구이며, 최종 의사결정과 책임은 인간에게 있다.' },
            { id: 'c2', title: '2. 투명성 및 설명가능성', description: 'AI의 생성 과정과 근거를 설명할 수 있어야 하며 사용 여부를 명시한다.' },
            { id: 'c3', title: '3. 데이터 보안', description: '고객 및 조직의 민감 정보는 AI 시스템에 입력하지 않으며 법규를 준수한다.' },
            { id: 'c4', title: '4. 공정성 및 편향 방지', description: '차별이나 편향이 없도록 지속적으로 모니터링하고 결과를 개선한다.' },
            { id: 'c5', title: '5. 법적 준수', description: '지적재산권을 존중하며 모든 관련 법규와 윤리 기준을 철저히 따른다.' },
          ],
          modules: [
            { id: 'm1', name: '콘텐츠 모듈', rules: ['브랜드 톤앤매너 유지', '표절 검사 필수', 'AI 생성 표기 의무'] },
            { id: 'm2', name: '이커머스 모듈', rules: ['실제 스펙 일치', '과장 광고 금지', '리뷰 왜곡 방지'] },
            { id: 'm3', name: '생산성 모듈', rules: ['반복 작업 자동화', '비용 대비 효과 측정', '프로세스 리뷰'] },
            { id: 'm4', name: '데이터 분석', rules: ['소스 명시', '개인정보 비식별화', '오차 범위 공개'] },
            { id: 'm5', name: '자동화 모듈', rules: ['코드 리뷰 필수', 'Failsafe 설정', '감사 로그 보관'] },
          ]
        };

        const askRuleAssistant = async (question, context) => {
          const ai = new GoogleGenAI({ apiKey: process.env.API_KEY || '' });
          const response = await ai.models.generateContent({
            model: 'gemini-3-flash-preview',
            contents: `You are an AI Governance Expert for EPLIM. Context: ${context}\n\nQuestion: ${question}\n\nRespond in Korean concisely.`,
          });
          return response.text;
        };

        const App = () => {
          const [isAssistantOpen, setIsAssistantOpen] = useState(false);
          const [chatInput, setChatInput] = useState('');
          const [chatHistory, setChatHistory] = useState([]);
          const [isTyping, setIsTyping] = useState(false);
          const scrollRef = useRef(null);

          useEffect(() => {
            if (scrollRef.current) {
              scrollRef.current.scrollTop = scrollRef.current.scrollHeight;
            }
          }, [chatHistory, isTyping]);

          const handleExport = () => {
            let output = '# EPLIM AI Governance Policy\n\n';
            GOVERNANCE_DATA.constitution.forEach(r => output += `## ${r.title}\n${r.description}\n\n`);
            const blob = new Blob([output], { type: 'text/markdown' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'EPLIM_Rules.md';
            a.click();
            URL.revokeObjectURL(url);
          };

          const handleSendMessage = async () => {
            if (!chatInput.trim() || isTyping) return;
            const userMsg = chatInput;
            setChatInput('');
            setChatHistory(prev => [...prev, { role: 'user', content: userMsg }]);
            setIsTyping(true);
            try {
              const res = await askRuleAssistant(userMsg, JSON.stringify(GOVERNANCE_DATA));
              setChatHistory(prev => [...prev, { role: 'assistant', content: res }]);
            } catch (error) {
              setChatHistory(prev => [...prev, { role: 'assistant', content: '연결 오류가 발생했습니다.' }]);
            } finally {
              setIsTyping(false);
            }
          };

          return (
            <div className="min-h-screen bg-[#0a0a0a] text-white">
              {/* Animated BG */}
              <div className="fixed inset-0 overflow-hidden pointer-events-none opacity-40">
                <div className="absolute top-[-10%] left-[-10%] w-[80%] h-[60%] bg-indigo-900/20 blur-[120px] rounded-full animate-pulse" />
                <div className="absolute bottom-[-10%] right-[-10%] w-[80%] h-[60%] bg-blue-900/20 blur-[120px] rounded-full animate-pulse" />
              </div>

              <div className="container mx-auto px-5 md:px-10 py-12 md:py-20 relative z-10 max-w-7xl">
                {/* Header */}
                <header className="flex flex-col gap-8 mb-16 md:mb-24">
                  <div className="space-y-4 md:space-y-6">
                    <div className="inline-flex items-center gap-2 px-3 py-1.5 rounded-full bg-indigo-500/10 border border-indigo-500/20 text-indigo-400 text-[10px] md:text-xs font-black tracking-widest uppercase">
                      <Sparkles className="w-3 h-3" /> Official Portal
                    </div>
                    <h1 className="text-4xl md:text-7xl font-black tracking-tighter text-gradient leading-[1.1] md:leading-tight">
                      EPLIM <span className="text-white/40">AI</span><br />Governance
                    </h1>
                    <p className="text-white/50 text-base md:text-xl max-w-xl font-light">에플림의 혁신을 이끄는 AI 원칙과 가이드라인을 한눈에 확인하세요.</p>
                  </div>
                  <div className="grid grid-cols-2 md:flex gap-3 md:gap-4">
                    <button onClick={handleExport} className="flex-1 md:flex-none px-4 md:px-8 py-4 bg-white/5 border border-white/10 rounded-2xl font-bold flex items-center justify-center gap-2 text-sm md:text-base"><Download className="w-4 h-4" /> Download</button>
                    <button onClick={() => setIsAssistantOpen(true)} className="flex-1 md:flex-none px-4 md:px-8 py-4 bg-indigo-600 rounded-2xl font-black flex items-center justify-center gap-2 text-sm md:text-base shadow-xl shadow-indigo-500/30"><MessageSquare className="w-4 h-4" /> Assistant</button>
                  </div>
                </header>

                {/* Mobile-Responsive Flow */}
                <div className="flex flex-col md:grid md:grid-cols-5 gap-4 items-center mb-24 md:mb-32">
                  <div className="w-full glass-panel p-6 md:p-8 rounded-2xl text-center">
                    <Shield className="w-6 h-6 text-indigo-400 mx-auto mb-3" />
                    <h3 className="font-bold text-sm md:text-lg">AI 헌법</h3>
                  </div>
                  <div className="flex justify-center opacity-30 py-2">
                    <ChevronDown className="w-6 h-6 md:hidden animate-bounce" />
                    <ChevronRight className="w-6 h-6 hidden md:block" />
                  </div>
                  <div className="w-full glass-panel p-6 md:p-8 rounded-2xl text-center">
                    <Settings className="w-6 h-6 text-white/40 mx-auto mb-3" />
                    <h3 className="font-bold text-sm md:text-lg">운영 규칙</h3>
                  </div>
                  <div className="flex justify-center opacity-30 py-2">
                    <ChevronDown className="w-6 h-6 md:hidden animate-bounce" />
                    <ChevronRight className="w-6 h-6 hidden md:block" />
                  </div>
                  <div className="w-full glass-panel p-6 md:p-8 rounded-2xl text-center">
                    <Box className="w-6 h-6 text-white/40 mx-auto mb-3" />
                    <h3 className="font-bold text-sm md:text-lg">모듈 가이드</h3>
                  </div>
                </div>

                {/* Content Sections */}
                <div className="space-y-24 md:space-y-40">
                  <section>
                    <div className="flex items-center justify-between mb-8 md:mb-12 border-b border-white/5 pb-6">
                      <h2 className="text-2xl md:text-4xl font-black tracking-tight">AI 헌법</h2>
                      <span className="text-[10px] font-bold text-indigo-400 border border-indigo-400/20 px-3 py-1 rounded-full uppercase">Policy</span>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8">
                      {GOVERNANCE_DATA.constitution.map(rule => (
                        <div key={rule.id} className="glass-panel p-6 md:p-10 rounded-2xl flex flex-col gap-4">
                          <CheckCircle2 className="w-5 h-5 text-indigo-500" />
                          <h3 className="text-lg md:text-2xl font-bold">{rule.title}</h3>
                          <p className="text-white/50 text-sm md:text-base leading-relaxed">{rule.description}</p>
                        </div>
                      ))}
                    </div>
                  </section>

                  <section>
                    <div className="flex items-center justify-between mb-8 md:mb-12 border-b border-white/5 pb-6">
                      <h2 className="text-2xl md:text-4xl font-black tracking-tight">모듈별 수칙</h2>
                    </div>
                    <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8">
                      {GOVERNANCE_DATA.modules.map(module => (
                        <div key={module.id} className="glass-panel p-6 md:p-10 rounded-2xl">
                          <h3 className="text-lg md:text-2xl font-bold mb-6 flex items-center gap-3">
                            <Box className="w-5 h-5 text-indigo-400" /> {module.name}
                          </h3>
                          <ul className="space-y-3">
                            {module.rules.map((r, idx) => (
                              <li key={idx} className="flex items-start gap-3 text-xs md:text-sm text-white/60">
                                <div className="mt-1.5 w-1.5 h-1.5 rounded-full bg-indigo-500 shrink-0" /> {r}
                              </li>
                            ))}
                          </ul>
                        </div>
                      ))}
                    </div>
                  </section>
                </div>

                <footer className="mt-32 md:mt-64 pt-10 border-t border-white/5 text-center md:text-left flex flex-col md:flex-row justify-between gap-6 pb-12">
                  <span className="font-black tracking-tighter text-xl">EPLIM <span className="text-indigo-400">Policy</span></span>
                  <p className="text-white/20 text-[10px] md:text-xs">© 2025 EPLIM AI Governance Board. Designed for Innovation.</p>
                </footer>
              </div>

              {/* Mobile-Optimized Assistant Overlay */}
              {isAssistantOpen && (
                <div className="fixed inset-0 z-[100] flex items-end md:items-center justify-center p-0 md:p-4 animate-in fade-in duration-300">
                  <div className="absolute inset-0 bg-black/90 backdrop-blur-xl" onClick={() => setIsAssistantOpen(false)} />
                  <div className="w-full max-w-3xl bg-[#0f0f0f] border-t md:border border-white/10 rounded-t-[2rem] md:rounded-[2.5rem] shadow-2xl flex flex-col h-[92vh] md:h-[85vh] relative z-10 overflow-hidden animate-in slide-in-from-bottom-10 md:slide-in-from-bottom-0 duration-300">
                    <div className="px-6 py-5 border-b border-white/5 flex items-center justify-between bg-white/[0.02]">
                      <div className="flex items-center gap-3">
                        <div className="w-10 h-10 bg-indigo-600 rounded-xl flex items-center justify-center shadow-lg shadow-indigo-600/20">
                          <Sparkles className="w-5 h-5 text-white" />
                        </div>
                        <h3 className="font-bold text-base">EPLIM Assistant</h3>
                      </div>
                      <button onClick={() => setIsAssistantOpen(false)} className="p-2 hover:bg-white/5 rounded-xl transition-all"><X className="w-6 h-6" /></button>
                    </div>
                    
                    <div ref={scrollRef} className="flex-1 overflow-y-auto p-6 space-y-6 scroll-smooth">
                      {chatHistory.length === 0 && (
                        <div className="h-full flex flex-col items-center justify-center text-center opacity-20 space-y-4">
                          <MessageSquare className="w-10 h-10" />
                          <p className="text-sm">에플림 정책에 대해 물어보세요.</p>
                        </div>
                      )}
                      {chatHistory.map((msg, i) => (
                        <div key={i} className={`flex ${msg.role === 'user' ? 'justify-end' : 'justify-start'}`}>
                          <div className={`max-w-[90%] px-5 py-3 rounded-2xl text-sm leading-relaxed ${
                            msg.role === 'user' ? 'bg-indigo-600 text-white rounded-tr-none' : 'bg-white/5 border border-white/10 text-white/80 rounded-tl-none'
                          }`}>
                            {msg.content}
                          </div>
                        </div>
                      ))}
                      {isTyping && <div className="flex justify-start"><Loader2 className="w-4 h-4 animate-spin text-indigo-500" /></div>}
                    </div>

                    <div className="p-6 bg-white/[0.01] border-t border-white/5 flex gap-3 safe-bottom">
                      <input 
                        type="text" value={chatInput} onChange={e => setChatInput(e.target.value)}
                        onKeyDown={e => e.key === 'Enter' && handleSendMessage()}
                        placeholder="메시지를 입력하세요..."
                        className="flex-1 bg-white/5 border border-white/10 rounded-2xl px-6 py-4 focus:outline-none focus:ring-1 focus:ring-indigo-500/50 text-sm placeholder:text-white/20"
                      />
                      <button onClick={handleSendMessage} className="bg-indigo-600 px-5 rounded-2xl active:scale-95 transition-transform"><Send className="w-5 h-5" /></button>
                    </div>
                  </div>
                </div>
              )}
            </div>
          );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>
